"""
《邢不行-2020新版|Python数字货币量化投资课程》
无需编程基础，助教答疑服务，专属策略网站，一旦加入，永续更新。
课程详细介绍：https://quantclass.cn/crypto/class
邢不行微信: xbx9025
本程序作者: 邢不行

# 课程内容
通过案例介绍什么是K线数据、逐笔数据、盘口数据等
"""
import pandas as pd
from urllib.request import urlopen, Request
pd.set_option('expand_frame_repr', False)  # 当列太多时不换行


# # =====ticker数据，来自币安
# url = 'https://api.binance.com/api/v3/ticker/24hr?symbol=BTCUSDT'
#
# # urlopen专门用来获取网页上的相关内容，使用urlopen抓取数据
# content = urlopen(url=url, timeout=1).read()  # timeout让我损失5万美金的故事：https://mp.weixin.qq.com/s/0dYmV9gBKWcXIivxCjSDGA
# print(content)
# # 返回结果案例：b'{"symbol":"BTCUSDT","priceChange":"17.77000000","priceChangePercent":"0.225","weightedAvgPrice":"7832.70090946","prevClosePrice":"7886.72000000","lastPrice":"7905.57000000","lastQty":"0.00132600","bidPrice":"7905.51000000","bidQty":"0.00002400","askPrice":"7905.99000000","askQty":"0.50000000","openPrice":"7887.80000000","highPrice":"7991.08000000","lowPrice":"7632.01000000","volume":"92439.61324900","quoteVolume":"724051842.76582092","openTime":1583737477474,"closeTime":1583823877474,"firstId":259865640,"lastId":260624606,"count":758967}'
#
# # ticker数据
# # 返回某个交易对最新的价格、最近24小时的一些统计数据（开、高、收、低成交量等）。
# # 币圈的ticker和传统股票、商品期货里面的ticker数据不是一个概念。


# # =====k线数据，来自okex
# symbol = 'BTC-USDT'
# url = 'https://www.okex.me/api/spot/v3/instruments/%s/candles' % symbol
# content = urlopen(url=url, timeout=15).read()
# print(content)
# 返回结果案例：b'[["2020-03-10T07:15:00.000Z","7895.1","7901.4","7895","7901.3","23.66745356"],["2020-03-10T07:14:00.000Z","7896.9","7897.3","7888.7","7895.1","58.12282978"],["2020-03-10T07:13:00.000Z","7900","7900.1","7894.5","7897","83.97434713"],["2020-03-10T07:12:00.000Z","7899.7","7900.6","7898.8","7900.1","36.11394149"],["2020-03-10T07:11:00.000Z","7906.8","7906.8","7893.7","7899.7","68.63891954"],["2020-03-10T07:10:00.000Z","7909.3","7909.3","7906.1","7906.8","17.95277655"],["2020-03-10T07:09:00.000Z","7910.5","7911.5","7909.3","7909.3","9.63687797"],["2020-03-10T07:08:00.000Z","7912.7","7913.2","7908.8","7910.2","31.49093978"],["2020-03-10T07:07:00.000Z","7912.6","7912.9","7910.9","7912.7","20.91496752"],["2020-03-10T07:06:00.000Z","7901.7","7913.6","7901.7","7912.6","28.07144602"],["2020-03-10T07:05:00.000Z","7904.9","7907.5","7901.7","7901.7","33.32638751"],["2020-03-10T07:04:00.000Z","7903.5","7908","7901.9","7904.9","24.39075509"],["2020-03-10T07:03:00.000Z","7905.1","7910","7902.3","7903.5","26.82812761"],["2020-03-10T07:02:00.000Z","7910.7","7910.7","7905","7905","33.57092528"],["2020-03-10T07:01:00.000Z","7916.7","7917.7","7910.7","7910.7","29.21754686"],["2020-03-10T07:00:00.000Z","7918.3","7918.3","7914.5","7916.7","57.6839829"],["2020-03-10T06:59:00.000Z","7920.8","7920.8","7916.6","7918.3","27.14579767"],["2020-03-10T06:58:00.000Z","7922.3","7923.1","7917.4","7920.8","42.89023501"],["2020-03-10T06:57:00.000Z","7917.3","7922.3","7915.4","7922.3","57.07990815"],["2020-03-10T06:56:00.000Z","7915.6","7918.6","7915.6","7918.1","30.07547337"],["2020-03-10T06:55:00.000Z","7917.5","7919.1","7915.5","7915.5","45.06560369"],["2020-03-10T06:54:00.000Z","7926.1","7926.1","7915.8","7917.5","55.81840529"],["2020-03-10T06:53:00.000Z","7918.7","7926.5","7918.5","7926.1","39.91413217"],["2020-03-10T06:52:00.000Z","7918.8","7921.7","7916.4","7918.8","31.76497382"],["2020-03-10T06:51:00.000Z","7925.3","7925.3","7916.8","7918.8","36.05339689"],["2020-03-10T06:50:00.000Z","7928.6","7930","7924.3","7925.3","34.20423927"],["2020-03-10T06:49:00.000Z","7921.6","7928.6","7921.6","7928.6","26.54495228"],["2020-03-10T06:48:00.000Z","7925","7927.7","7921.5","7921.6","32.78207247"],["2020-03-10T06:47:00.000Z","7929.4","7935.1","7925","7925.1","60.81107269"],["2020-03-10T06:46:00.000Z","7925.9","7931.2","7925","7929.4","57.31742097"],["2020-03-10T06:45:00.000Z","7927","7929.3","7923.4","7925.9","61.54016432"],["2020-03-10T06:44:00.000Z","7929.6","7929.6","7924","7926.9","79.55988041"],["2020-03-10T06:43:00.000Z","7916","7930.4","7915.9","7929.7","69.83919345"],["2020-03-10T06:42:00.000Z","7917.6","7920.6","7915.3","7915.9","49.46459807"],["2020-03-10T06:41:00.000Z","7931.3","7931.3","7916.1","7917.6","52.01992057"],["2020-03-10T06:40:00.000Z","7924.8","7936.2","7924.7","7931.4","61.96134718"],["2020-03-10T06:39:00.000Z","7928.8","7934.5","7924.7","7924.8","45.63567227"],["2020-03-10T06:38:00.000Z","7929.7","7934.4","7927.1","7928.6","60.58301097"],["2020-03-10T06:37:00.000Z","7935.2","7936.7","7929.7","7929.7","120.06528406"],["2020-03-10T06:36:00.000Z","7939.3","7942.6","7934","7934.7","71.48978608"],["2020-03-10T06:35:00.000Z","7945.4","7945.5","7938.2","7939.3","34.19645293"],["2020-03-10T06:34:00.000Z","7948.7","7950.2","7945.4","7945.4","19.9589405"],["2020-03-10T06:33:00.000Z","7942.3","7952.1","7942.3","7949.5","28.7472245"],["2020-03-10T06:32:00.000Z","7944.3","7945.7","7941.5","7942.2","27.0550204"],["2020-03-10T06:31:00.000Z","7940.4","7947.1","7939.5","7944.3","36.15943513"],["2020-03-10T06:30:00.000Z","7947.1","7947.1","7939.7","7940.4","20.48672857"],["2020-03-10T06:29:00.000Z","7947.5","7949.7","7945.2","7947.1","28.51505514"],["2020-03-10T06:28:00.000Z","7947.4","7950.6","7947.3","7947.4","32.4395315"],["2020-03-10T06:27:00.000Z","7947.7","7949.8","7943.3","7947.3","39.41694048"],["2020-03-10T06:26:00.000Z","7947","7952.4","7946.4","7948.2","77.04563579"],["2020-03-10T06:25:00.000Z","7948.2","7949","7942.8","7947","49.38549019"],["2020-03-10T06:24:00.000Z","7941.2","7948.1","7939.3","7948.1","44.68317438"],["2020-03-10T06:23:00.000Z","7942.7","7945.3","7940.6","7941.2","63.36772035"],["2020-03-10T06:22:00.000Z","7936.1","7943.2","7936","7942.7","18.0405481"],["2020-03-10T06:21:00.000Z","7932.7","7936.6","7932","7936.1","21.52912218"],["2020-03-10T06:20:00.000Z","7931.5","7934.1","7931","7932.1","19.70040116"],["2020-03-10T06:19:00.000Z","7934.9","7935","7930.1","7931.6","25.31262876"],["2020-03-10T06:18:00.000Z","7931.5","7936.8","7930.6","7934.9","24.07257998"],["2020-03-10T06:17:00.000Z","7932.8","7935.6","7931","7931.5","47.79362199"],["2020-03-10T06:16:00.000Z","7931.1","7934","7930","7932.8","24.56655104"],["2020-03-10T06:15:00.000Z","7933.8","7934","7929.5","7931.1","24.4779812"],["2020-03-10T06:14:00.000Z","7929.8","7935.4","7929.7","7933.9","41.72365787"],["2020-03-10T06:13:00.000Z","7939.9","7940","7929.7","7929.7","50.2063607"],["2020-03-10T06:12:00.000Z","7938.8","7940.9","7937.5","7940","50.32133372"],["2020-03-10T06:11:00.000Z","7935.4","7939.3","7934.9","7938.6","107.17792761"],["2020-03-10T06:10:00.000Z","7935","7938.4","7933.9","7935.4","74.06662825"],["2020-03-10T06:09:00.000Z","7938","7939.2","7933.4","7934.9","21.15945372"],["2020-03-10T06:08:00.000Z","7930.5","7938.4","7930.5","7937.9","31.56605326"],["2020-03-10T06:07:00.000Z","7932.6","7933","7930.5","7930.6","6.97909513"],["2020-03-10T06:06:00.000Z","7928.2","7932.6","7927.3","7932.5","24.85140117"],["2020-03-10T06:05:00.000Z","7929.4","7929.5","7923.1","7928.1","50.29205018"],["2020-03-10T06:04:00.000Z","7930","7930.8","7923.7","7929.5","28.30226207"],["2020-03-10T06:03:00.000Z","7932.7","7932.8","7930","7930","6.2007529"],["2020-03-10T06:02:00.000Z","7928.9","7934.4","7928.5","7932.5","35.25714725"],["2020-03-10T06:01:00.000Z","7932.5","7934.1","7928.7","7928.9","38.32499969"],["2020-03-10T06:00:00.000Z","7935.2","7935.5","7932.4","7932.5","26.31699425"],["2020-03-10T05:59:00.000Z","7938.8","7938.9","7933","7935.1","23.26971956"],["2020-03-10T05:58:00.000Z","7935.3","7940.8","7935.3","7938.6","25.78579669"],["2020-03-10T05:57:00.000Z","7938.5","7938.5","7935.2","7935.3","14.91874676"],["2020-03-10T05:56:00.000Z","7941.9","7941.9","7938","7938.5","37.76327992"],["2020-03-10T05:55:00.000Z","7940.1","7942","7939.1","7941.9","21.31584882"],["2020-03-10T05:54:00.000Z","7940","7941.3","7936.4","7940","78.93793792"],["2020-03-10T05:53:00.000Z","7941.3","7941.5","7934.4","7940","62.57060386"],["2020-03-10T05:52:00.000Z","7945.2","7945.2","7940.8","7941.4","50.10393314"],["2020-03-10T05:51:00.000Z","7946.6","7946.6","7944.9","7945.3","24.7379149"],["2020-03-10T05:50:00.000Z","7945.3","7946.6","7943.7","7946.6","19.40728702"],["2020-03-10T05:49:00.000Z","7945.6","7948.8","7945.2","7945.3","52.63001894"],["2020-03-10T05:48:00.000Z","7947","7947","7943.7","7945.6","23.08074452"],["2020-03-10T05:47:00.000Z","7945.6","7947","7944.9","7947","16.64260819"],["2020-03-10T05:46:00.000Z","7945.1","7946.5","7944.1","7945.7","14.99073289"],["2020-03-10T05:45:00.000Z","7944.3","7945.4","7943.3","7945.1","17.67456698"],["2020-03-10T05:44:00.000Z","7947.8","7950","7943.4","7944.1","59.15097925"],["2020-03-10T05:43:00.000Z","7942.5","7949.3","7941.6","7947.9","24.81254214"],["2020-03-10T05:42:00.000Z","7939.2","7942.9","7938.2","7942.9","20.0867038"],["2020-03-10T05:41:00.000Z","7940.9","7942.3","7937.2","7939.1","28.28438987"],["2020-03-10T05:40:00.000Z","7935.7","7942.5","7935.3","7940.8","41.40792108"],["2020-03-10T05:39:00.000Z","7933.4","7938.8","7933.4","7935.7","28.14052728"],["2020-03-10T05:38:00.000Z","7933.2","7934.1","7931.4","7933.4","10.18908704"],["2020-03-10T05:37:00.000Z","7933.4","7933.5","7931","7933.2","7.83604222"],["2020-03-10T05:36:00.000Z","7934.3","7934.7","7931.2","7933.4","47.45445105"],["2020-03-10T05:35:00.000Z","7928.2","7936.4","7928","7934.3","20.80497044"],["2020-03-10T05:34:00.000Z","7935.8","7936.7","7928","7928.2","15.28206732"],["2020-03-10T05:33:00.000Z","7935.7","7937","7933.7","7935.7","21.17386462"],["2020-03-10T05:32:00.000Z","7937.1","7939.6","7934.4","7934.7","20.81744771"],["2020-03-10T05:31:00.000Z","7939.2","7940","7936.8","7937","28.43495006"],["2020-03-10T05:30:00.000Z","7935.4","7939.4","7934.7","7939.2","48.15543073"],["2020-03-10T05:29:00.000Z","7937.8","7938.2","7932.8","7936","24.49762409"],["2020-03-10T05:28:00.000Z","7931.5","7938.7","7931.5","7937.8","33.69826782"],["2020-03-10T05:27:00.000Z","7930.1","7934.3","7930.1","7931.6","17.74370425"],["2020-03-10T05:26:00.000Z","7931.6","7933.2","7928","7930","31.68921303"],["2020-03-10T05:25:00.000Z","7928.1","7935.5","7927.5","7932.9","46.07950198"],["2020-03-10T05:24:00.000Z","7929.1","7929.1","7927.3","7928.1","26.95937622"],["2020-03-10T05:23:00.000Z","7928.7","7929.1","7928.7","7929","13.49548251"],["2020-03-10T05:22:00.000Z","7929.1","7930.1","7925.1","7928.7","32.5169902"],["2020-03-10T05:21:00.000Z","7926","7929.8","7925.8","7929.1","14.69928532"],["2020-03-10T05:20:00.000Z","7928.5","7928.6","7925.3","7926.1","24.47062828"],["2020-03-10T05:19:00.000Z","7928","7928.8","7926.5","7928.5","30.42515694"],["2020-03-10T05:18:00.000Z","7928","7931.9","7926","7928.1","70.33093002"],["2020-03-10T05:17:00.000Z","7921.2","7930.9","7920.4","7927.8","85.19781291"],["2020-03-10T05:16:00.000Z","7922.6","7925.9","7921.1","7921.3","34.24614062"],["2020-03-10T05:15:00.000Z","7907.1","7924.2","7907.1","7922.6","58.5472649"],["2020-03-10T05:14:00.000Z","7914.9","7915.2","7907.2","7907.2","25.91873215"],["2020-03-10T05:13:00.000Z","7913.7","7915.1","7912.8","7914.9","30.38619152"],["2020-03-10T05:12:00.000Z","7910.9","7914","7910.9","7914","35.6599065"],["2020-03-10T05:11:00.000Z","7911.5","7913.1","7910","7911","25.10887657"],["2020-03-10T05:10:00.000Z","7913.3","7913.3","7908.5","7911.6","40.07198201"],["2020-03-10T05:09:00.000Z","7913.4","7916","7911.9","7913.3","29.01145995"],["2020-03-10T05:08:00.000Z","7909","7915.9","7908.4","7913.5","70.88425695"],["2020-03-10T05:07:00.000Z","7914","7916.6","7909","7909","41.1247583"],["2020-03-10T05:06:00.000Z","7923.6","7923.6","7912.8","7914","20.13912878"],["2020-03-10T05:05:00.000Z","7919","7923.9","7916.9","7923.6","26.30838659"],["2020-03-10T05:04:00.000Z","7912.5","7922.7","7912.5","7919","45.05056737"],["2020-03-10T05:03:00.000Z","7920.7","7922.4","7910.5","7912.5","32.20033183"],["2020-03-10T05:02:00.000Z","7926","7927.1","7920.2","7920.6","20.96072422"],["2020-03-10T05:01:00.000Z","7925.5","7928.6","7924.6","7926.5","49.43850835"],["2020-03-10T05:00:00.000Z","7929.2","7929.3","7924.1","7925.5","10.61529445"],["2020-03-10T04:59:00.000Z","7930.4","7931.5","7928.7","7929.3","14.25752069"],["2020-03-10T04:58:00.000Z","7931.6","7935.1","7929.4","7930.5","19.10410128"],["2020-03-10T04:57:00.000Z","7934.7","7934.7","7929.2","7932.7","35.53563825"],["2020-03-10T04:56:00.000Z","7938.9","7939","7933.9","7934.7","16.63659846"],["2020-03-10T04:55:00.000Z","7936.1","7940","7934.9","7938.9","20.64725447"],["2020-03-10T04:54:00.000Z","7937.4","7937.5","7932.8","7936.1","25.8065075"],["2020-03-10T04:53:00.000Z","7928.8","7937.8","7927.7","7937.5","20.58579367"],["2020-03-10T04:52:00.000Z","7930.3","7930.7","7926.9","7927.6","21.63096687"],["2020-03-10T04:51:00.000Z","7925.1","7930.8","7924.1","7930.3","16.99695398"],["2020-03-10T04:50:00.000Z","7929.2","7929.8","7923.3","7925.1","46.74064001"],["2020-03-10T04:49:00.000Z","7935.1","7935.1","7928.8","7929.1","23.52711207"],["2020-03-10T04:48:00.000Z","7929.2","7935.9","7927.5","7935.2","41.50361418"],["2020-03-10T04:47:00.000Z","7929.1","7929.3","7926.4","7929.2","39.01434892"],["2020-03-10T04:46:00.000Z","7934.3","7934.3","7926.9","7929.1","25.40379357"],["2020-03-10T04:45:00.000Z","7932.7","7936.4","7931.6","7934.3","32.71128332"],["2020-03-10T04:44:00.000Z","7934.5","7935.5","7929.1","7932.7","28.34182601"],["2020-03-10T04:43:00.000Z","7933.1","7936.2","7929.1","7934.1","31.03781022"],["2020-03-10T04:42:00.000Z","7927.6","7933.6","7926.3","7933.2","30.99718871"],["2020-03-10T04:41:00.000Z","7926.1","7932.6","7926.1","7927.5","25.37529732"],["2020-03-10T04:40:00.000Z","7927.9","7929.3","7925","7925.4","35.05878484"],["2020-03-10T04:39:00.000Z","7933.7","7933.7","7925.1","7927.9","44.99456722"],["2020-03-10T04:38:00.000Z","7930.7","7934","7929.4","7933.8","33.41142804"],["2020-03-10T04:37:00.000Z","7924.1","7933.9","7924.1","7930.7","71.12286942"],["2020-03-10T04:36:00.000Z","7923","7924.9","7921.1","7924.2","34.74884977"],["2020-03-10T04:35:00.000Z","7921.6","7925","7921.2","7923","14.89886703"],["2020-03-10T04:34:00.000Z","7917.3","7921.6","7917.3","7921.6","16.83247376"],["2020-03-10T04:33:00.000Z","7918.7","7918.7","7917.1","7917.3","13.78775557"],["2020-03-10T04:32:00.000Z","7913.4","7918.6","7913.3","7918.6","18.94644453"],["2020-03-10T04:31:00.000Z","7912.4","7918.7","7908.4","7913.4","54.62769833"],["2020-03-10T04:30:00.000Z","7915.8","7915.8","7910.5","7913","35.77056073"],["2020-03-10T04:29:00.000Z","7921.5","7921.5","7915.8","7915.8","45.70453587"],["2020-03-10T04:28:00.000Z","7920","7922","7914.7","7921.6","40.38596922"],["2020-03-10T04:27:00.000Z","7915.5","7920","7914.7","7920","13.12181479"],["2020-03-10T04:26:00.000Z","7921.2","7921.7","7913.8","7915.6","48.00264769"],["2020-03-10T04:25:00.000Z","7920.9","7924","7920.3","7921.3","25.73057366"],["2020-03-10T04:24:00.000Z","7922.8","7924.6","7920.8","7920.9","36.52237565"],["2020-03-10T04:23:00.000Z","7923.1","7923.1","7918.7","7922.7","12.7020415"],["2020-03-10T04:22:00.000Z","7931.9","7931.9","7922.4","7923.1","34.65008662"],["2020-03-10T04:21:00.000Z","7927.2","7932","7926.2","7932","44.94396463"],["2020-03-10T04:20:00.000Z","7928.7","7928.8","7926.5","7926.8","17.85501748"],["2020-03-10T04:19:00.000Z","7927.1","7935","7927","7928.8","33.19045125"],["2020-03-10T04:18:00.000Z","7924.2","7929.7","7924.2","7927.1","23.98714071"],["2020-03-10T04:17:00.000Z","7926.2","7929.7","7924.1","7924.3","36.59961497"],["2020-03-10T04:16:00.000Z","7937.7","7937.7","7925.8","7926.3","24.96918163"],["2020-03-10T04:15:00.000Z","7943.8","7943.9","7936.6","7937.8","50.53011182"],["2020-03-10T04:14:00.000Z","7944","7945.7","7935.2","7943.8","91.82225101"],["2020-03-10T04:13:00.000Z","7930","7946.9","7928.5","7944","63.14068919"],["2020-03-10T04:12:00.000Z","7931.5","7931.5","7925.4","7930","25.56729974"],["2020-03-10T04:11:00.000Z","7926.2","7931.5","7922.1","7931.5","30.68556966"],["2020-03-10T04:10:00.000Z","7924.3","7930.1","7924.3","7926.2","38.16201085"],["2020-03-10T04:09:00.000Z","7927.4","7930.8","7922","7924.2","48.49867302"],["2020-03-10T04:08:00.000Z","7923.7","7931.4","7922.9","7928.8","51.99779721"],["2020-03-10T04:07:00.000Z","7907.8","7923.8","7907.2","7923.8","31.78124921"],["2020-03-10T04:06:00.000Z","7917.7","7918","7907.9","7907.9","26.46510777"],["2020-03-10T04:05:00.000Z","7917.5","7919.8","7917.4","7917.8","12.09988941"],["2020-03-10T04:04:00.000Z","7926","7928.1","7917.3","7917.4","25.46180082"],["2020-03-10T04:03:00.000Z","7917.8","7926.4","7917.2","7925.9","21.48755744"],["2020-03-10T04:02:00.000Z","7917.6","7919.1","7916.2","7918.6","19.70445363"],["2020-03-10T04:01:00.000Z","7917.4","7918.7","7916.2","7917.6","21.89861728"],["2020-03-10T04:00:00.000Z","7909","7919.6","7909","7917.5","30.79738872"],["2020-03-10T03:59:00.000Z","7908.4","7909","7905","7908.9","18.77429126"],["2020-03-10T03:58:00.000Z","7915.9","7917.2","7908.3","7908.5","18.76043894"],["2020-03-10T03:57:00.000Z","7913.1","7917.7","7913","7915.9","21.64942346"],["2020-03-10T03:56:00.000Z","7915.5","7915.5","7912.9","7913.1","13.70557745"]]'

# k数数据
# 交易的基础数据，之后会大量使用。观察交易页面。
# k线数据的另外一种画法：https://mp.weixin.qq.com/s/v8QlfiBh3yP7LEHnk3-uFw


# # =====trades数据（逐笔数据），来自火币
# url = 'https://api.huobi.io/market/history/trade?symbol=btcusdt&size=10'
#
# # 火币获取数据，需要增加一层浏览器伪装，本段代码不用理解，之后用不到。
# headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0'}
# request = Request(url=url, headers=headers)
#
# content = urlopen(request, timeout=15).read()
# print(content)
# # 返回结果案例：b'{"status":"ok","ch":"market.btcusdt.trade.detail","ts":1583825221226,"data":[{"id":105089232949,"ts":1583825220728,"data":[{"amount":0.014068000000000000,"trade-id":102092172730,"ts":1583825220728,"id":10508923294973864622895,"price":7889.190000000000000000,"direction":"sell"}]},{"id":105089232287,"ts":1583825218330,"data":[{"amount":0.001000000000000000,"trade-id":102092172729,"ts":1583825218330,"id":10508923228773864596292,"price":7888.300000000000000000,"direction":"buy"}]},{"id":105089232284,"ts":1583825218327,"data":[{"amount":0.508654000000000000,"trade-id":102092172728,"ts":1583825218327,"id":10508923228473864619643,"price":7888.290000000000000000,"direction":"sell"}]},{"id":105089232055,"ts":1583825217795,"data":[{"amount":0.133601000000000000,"trade-id":102092172727,"ts":1583825217795,"id":10508923205573864596541,"price":7887.400000000000000000,"direction":"buy"}]},{"id":105089232052,"ts":1583825217755,"data":[{"amount":0.494459000000000000,"trade-id":102092172726,"ts":1583825217755,"id":10508923205273864596541,"price":7887.400000000000000000,"direction":"buy"}]},{"id":105089232049,"ts":1583825217747,"data":[{"amount":0.169937000000000000,"trade-id":102092172725,"ts":1583825217747,"id":10508923204973864596541,"price":7887.400000000000000000,"direction":"buy"},{"amount":0.023060000000000000,"trade-id":102092172724,"ts":1583825217747,"id":10508923204973864606497,"price":7887.330000000000000000,"direction":"buy"}]},{"id":105089231950,"ts":1583825217078,"data":[{"amount":0.003398000000000000,"trade-id":102092172723,"ts":1583825217078,"id":10508923195073864606497,"price":7887.330000000000000000,"direction":"buy"}]},{"id":105089231868,"ts":1583825216618,"data":[{"amount":0.012682000000000000,"trade-id":102092172722,"ts":1583825216618,"id":10508923186873864606497,"price":7887.330000000000000000,"direction":"buy"}]},{"id":105089231850,"ts":1583825216561,"data":[{"amount":0.012682000000000000,"trade-id":102092172721,"ts":1583825216561,"id":10508923185073864606497,"price":7887.330000000000000000,"direction":"buy"}]},{"id":105089231775,"ts":1583825215826,"data":[{"amount":0.001438000000000000,"trade-id":102092172720,"ts":1583825215826,"id":10508923177573864606497,"price":7887.330000000000000000,"direction":"buy"}]}]}'
#
# # 逐笔数据
# # 代表每一笔的成交。观察交易页面。
# # 一般逐笔数据会带上b、s标志，代表主动买入或者卖出。常见的资金流入流出数据就来自于这里。
# # 其实这样的逐笔数据价值不大。


# # =====depth数据（order book数据、订单簿数据、盘口数据），来自火币
# url = 'https://api.huobi.io/market/depth?symbol=btcusdt&type=step0'
# headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0'}
# request = Request(url=url, headers=headers)
# content = urlopen(request, timeout=15).read()
# print(content)
# # 返回结果案例：b'{"status":"ok","ch":"market.btcusdt.depth.step0","ts":1583825506953,"tick":{"bids":[[7870.000000000000000000,89.576433000000000000],[7869.900000000000000000,0.009324000000000000],[7869.380000000000000000,0.005010000000000000],[7868.940000000000000000,0.009350000000000000],[7868.790000000000000000,0.003000000000000000],[7868.410000000000000000,0.110620000000000000],[7868.170000000000000000,0.008898000000000000],[7868.010000000000000000,0.065353000000000000],[7868.000000000000000000,0.123164000000000000],[7867.630000000000000000,0.001600000000000000],[7867.410000000000000000,0.500000000000000000],[7867.350000000000000000,0.610000000000000000],[7867.340000000000000000,0.061516000000000000],[7867.270000000000000000,0.025673000000000000],[7866.970000000000000000,0.021659000000000000],[7866.940000000000000000,0.001000000000000000],[7866.860000000000000000,0.007979000000000000],[7866.810000000000000000,0.001200000000000000],[7866.660000000000000000,0.001800000000000000],[7866.560000000000000000,0.058200000000000000],[7866.550000000000000000,0.009000000000000000],[7866.510000000000000000,0.177800000000000000],[7866.500000000000000000,1.061604000000000000],[7866.490000000000000000,0.150652000000000000],[7866.470000000000000000,0.050298000000000000],[7866.000000000000000000,0.126721000000000000],[7865.980000000000000000,0.120000000000000000],[7865.840000000000000000,0.500000000000000000],[7865.830000000000000000,0.005000000000000000],[7865.790000000000000000,0.007700000000000000],[7865.530000000000000000,0.004900000000000000],[7865.400000000000000000,0.015000000000000000],[7865.170000000000000000,0.008000000000000000],[7865.160000000000000000,1.378454000000000000],[7865.140000000000000000,0.500000000000000000],[7865.120000000000000000,0.129917000000000000],[7865.080000000000000000,0.043317000000000000],[7864.980000000000000000,0.032000000000000000],[7864.950000000000000000,0.202785000000000000],[7864.940000000000000000,0.500000000000000000],[7864.880000000000000000,0.300000000000000000],[7864.860000000000000000,0.444685000000000000],[7864.830000000000000000,0.010413000000000000],[7864.770000000000000000,0.035000000000000000],[7864.750000000000000000,1.328592000000000000],[7864.730000000000000000,0.015555000000000000],[7864.720000000000000000,0.000800000000000000],[7864.700000000000000000,0.000636000000000000],[7864.510000000000000000,0.001200000000000000],[7864.460000000000000000,0.508333000000000000],[7864.370000000000000000,0.001100000000000000],[7864.350000000000000000,0.010102000000000000],[7864.260000000000000000,0.361232000000000000],[7864.230000000000000000,0.013800000000000000],[7864.210000000000000000,0.500000000000000000],[7864.060000000000000000,0.489900000000000000],[7863.970000000000000000,1.378691000000000000],[7863.950000000000000000,0.001500000000000000],[7863.820000000000000000,1.299999000000000000],[7863.770000000000000000,0.354200000000000000],[7863.750000000000000000,0.001400000000000000],[7863.600000000000000000,0.031000000000000000],[7863.400000000000000000,0.040000000000000000],[7863.210000000000000000,0.063557000000000000],[7863.120000000000000000,1.308796000000000000],[7863.100000000000000000,5.800000000000000000],[7863.020000000000000000,0.500000000000000000],[7862.760000000000000000,0.100000000000000000],[7862.740000000000000000,0.385200000000000000],[7862.720000000000000000,0.015262000000000000],[7862.670000000000000000,1.400000000000000000],[7862.640000000000000000,0.100000000000000000],[7862.630000000000000000,0.500000000000000000],[7862.390000000000000000,0.500000000000000000],[7862.240000000000000000,0.051020000000000000],[7862.220000000000000000,0.317900000000000000],[7862.130000000000000000,0.400000000000000000],[7862.000000000000000000,0.203734000000000000],[7861.680000000000000000,0.060000000000000000],[7861.620000000000000000,0.007300000000000000],[7861.540000000000000000,0.100000000000000000],[7861.070000000000000000,2.532000000000000000],[7861.000000000000000000,0.300000000000000000],[7860.690000000000000000,0.630000000000000000],[7860.640000000000000000,0.317800000000000000],[7860.420000000000000000,0.153814000000000000],[7860.330000000000000000,0.003500000000000000],[7860.220000000000000000,0.000800000000000000],[7860.150000000000000000,0.198022000000000000],[7860.080000000000000000,0.012679000000000000],[7860.000000000000000000,1.365104000000000000],[7859.930000000000000000,0.043546000000000000],[7859.500000000000000000,0.000900000000000000],[7859.470000000000000000,0.071300000000000000],[7859.440000000000000000,0.129965000000000000],[7858.990000000000000000,0.001200000000000000],[7858.950000000000000000,1.525000000000000000],[7858.810000000000000000,2.000000000000000000],[7858.760000000000000000,0.001800000000000000],[7858.460000000000000000,0.003000000000000000],[7858.290000000000000000,0.200000000000000000],[7858.210000000000000000,0.351540000000000000],[7858.200000000000000000,1.846514000000000000],[7858.000000000000000000,1.042558000000000000],[7857.900000000000000000,1.000000000000000000],[7857.890000000000000000,0.158189000000000000],[7857.730000000000000000,0.710000000000000000],[7857.720000000000000000,0.100000000000000000],[7857.690000000000000000,0.002609000000000000],[7857.430000000000000000,1.525137000000000000],[7857.140000000000000000,0.055681000000000000],[7857.060000000000000000,0.005000000000000000],[7857.040000000000000000,1.200000000000000000],[7857.000000000000000000,0.110655000000000000],[7856.990000000000000000,0.889252000000000000],[7856.890000000000000000,0.010000000000000000],[7856.530000000000000000,0.000700000000000000],[7856.380000000000000000,0.002800000000000000],[7856.350000000000000000,0.011700000000000000],[7856.200000000000000000,11.600000000000000000],[7856.090000000000000000,0.004900000000000000],[7856.080000000000000000,0.190597000000000000],[7856.000000000000000000,0.030101000000000000],[7855.990000000000000000,0.190597000000000000],[7855.840000000000000000,0.500000000000000000],[7855.820000000000000000,0.003600000000000000],[7855.810000000000000000,0.009640000000000000],[7855.800000000000000000,0.250000000000000000],[7855.620000000000000000,0.003200000000000000],[7855.560000000000000000,1.525145000000000000],[7855.450000000000000000,0.100000000000000000],[7855.430000000000000000,0.001200000000000000],[7855.230000000000000000,0.005800000000000000],[7855.080000000000000000,0.005400000000000000],[7855.000000000000000000,0.727307000000000000],[7854.530000000000000000,0.008668000000000000],[7854.500000000000000000,0.250000000000000000],[7854.490000000000000000,0.100000000000000000],[7854.480000000000000000,0.008514000000000000],[7854.280000000000000000,1.525137000000000000],[7854.230000000000000000,3.574300000000000000],[7854.080000000000000000,0.003000000000000000],[7854.000000000000000000,0.013000000000000000],[7853.960000000000000000,0.450000000000000000],[7853.840000000000000000,0.021000000000000000],[7853.830000000000000000,0.001100000000000000],[7853.740000000000000000,0.051900000000000000],[7853.710000000000000000,0.007000000000000000],[7853.660000000000000000,0.550000000000000000],[7853.640000000000000000,0.001300000000000000]],"asks":[[7870.010000000000000000,3.507640000000000000],[7870.030000000000000000,0.001240000000000000],[7870.350000000000000000,2.000000000000000000],[7870.470000000000000000,0.063555000000000000],[7870.480000000000000000,0.199937000000000000],[7870.490000000000000000,0.001000000000000000],[7870.690000000000000000,1.500000000000000000],[7870.770000000000000000,4.141700000000000000],[7870.780000000000000000,0.003301000000000000],[7871.310000000000000000,0.250000000000000000],[7871.780000000000000000,1.012926000000000000],[7871.840000000000000000,0.048100000000000000],[7871.850000000000000000,0.199900000000000000],[7871.990000000000000000,0.012121000000000000],[7872.010000000000000000,0.353557000000000000],[7872.020000000000000000,0.407208000000000000],[7872.230000000000000000,0.253208000000000000],[7872.430000000000000000,0.200000000000000000],[7872.490000000000000000,0.412214000000000000],[7872.550000000000000000,0.474645000000000000],[7872.650000000000000000,0.605094000000000000],[7872.810000000000000000,0.006500000000000000],[7872.880000000000000000,0.168500000000000000],[7872.990000000000000000,0.012121000000000000],[7873.160000000000000000,0.749800000000000000],[7873.250000000000000000,1.100000000000000000],[7873.440000000000000000,0.381250000000000000],[7873.520000000000000000,0.200000000000000000],[7873.550000000000000000,0.005000000000000000],[7873.670000000000000000,0.121743000000000000],[7873.850000000000000000,3.900000000000000000],[7873.950000000000000000,4.000000000000000000],[7874.630000000000000000,5.600000000000000000],[7874.670000000000000000,7.600000000000000000],[7874.740000000000000000,0.012020000000000000],[7874.880000000000000000,5.600000000000000000],[7874.980000000000000000,0.350000000000000000],[7875.000000000000000000,5.923521000000000000],[7875.310000000000000000,1.000000000000000000],[7875.420000000000000000,0.489800000000000000],[7875.600000000000000000,3.500000000000000000],[7875.880000000000000000,0.015000000000000000],[7876.000000000000000000,0.359832000000000000],[7876.010000000000000000,0.120000000000000000],[7876.040000000000000000,0.500000000000000000],[7876.130000000000000000,5.600000000000000000],[7876.170000000000000000,0.508259000000000000],[7876.400000000000000000,0.317400000000000000],[7876.520000000000000000,0.035000000000000000],[7876.550000000000000000,0.015555000000000000],[7876.730000000000000000,1.633200000000000000],[7876.840000000000000000,0.012706000000000000],[7876.930000000000000000,2.107370000000000000],[7876.940000000000000000,0.132041000000000000],[7877.000000000000000000,0.541900000000000000],[7877.040000000000000000,1.400000000000000000],[7877.210000000000000000,0.198061000000000000],[7877.360000000000000000,0.050900000000000000],[7877.410000000000000000,0.013700000000000000],[7877.420000000000000000,0.017574000000000000],[7877.470000000000000000,0.050000000000000000],[7877.550000000000000000,0.051020000000000000],[7877.610000000000000000,0.043546000000000000],[7877.730000000000000000,0.500000000000000000],[7877.810000000000000000,0.500000000000000000],[7877.860000000000000000,1.525145000000000000],[7877.920000000000000000,0.130641000000000000],[7877.980000000000000000,0.817300000000000000],[7878.050000000000000000,0.075491000000000000],[7878.350000000000000000,0.500000000000000000],[7878.460000000000000000,0.379600000000000000],[7878.660000000000000000,0.100000000000000000],[7878.870000000000000000,0.000635000000000000],[7878.990000000000000000,0.100000000000000000],[7879.000000000000000000,0.010597000000000000],[7879.100000000000000000,0.061400000000000000],[7879.300000000000000000,1.400000000000000000],[7879.440000000000000000,1.525145000000000000],[7879.560000000000000000,0.317200000000000000],[7879.940000000000000000,0.500000000000000000],[7880.330000000000000000,3.088345000000000000],[7880.430000000000000000,0.543100000000000000],[7880.700000000000000000,2.000000000000000000],[7880.720000000000000000,0.310000000000000000],[7880.810000000000000000,0.200000000000000000],[7881.010000000000000000,1.525145000000000000],[7881.130000000000000000,0.317200000000000000],[7881.220000000000000000,0.010100000000000000],[7881.570000000000000000,0.500000000000000000],[7881.750000000000000000,0.012705000000000000],[7882.260000000000000000,0.011878000000000000],[7882.290000000000000000,0.011725000000000000],[7882.380000000000000000,0.021741000000000000],[7882.590000000000000000,1.525145000000000000],[7882.650000000000000000,0.051020000000000000],[7882.710000000000000000,0.317100000000000000],[7882.820000000000000000,0.550000000000000000],[7883.210000000000000000,0.060000000000000000],[7883.640000000000000000,1.200000000000000000],[7883.990000000000000000,0.003140000000000000],[7884.000000000000000000,24.000000000000000000],[7884.160000000000000000,1.525145000000000000],[7884.280000000000000000,0.317100000000000000],[7884.550000000000000000,0.100000000000000000],[7884.650000000000000000,0.024000000000000000],[7884.870000000000000000,1.745300000000000000],[7884.970000000000000000,0.002017000000000000],[7885.740000000000000000,1.184300000000000000],[7885.760000000000000000,0.010000000000000000],[7885.860000000000000000,0.317000000000000000],[7886.000000000000000000,6.000000000000000000],[7886.220000000000000000,0.889412000000000000],[7886.490000000000000000,0.600000000000000000],[7886.560000000000000000,0.012400000000000000],[7886.740000000000000000,1.174300000000000000],[7886.990000000000000000,0.350000000000000000],[7887.080000000000000000,0.001100000000000000],[7887.240000000000000000,0.046101000000000000],[7887.280000000000000000,0.045555000000000000],[7887.290000000000000000,0.005567000000000000],[7887.440000000000000000,0.771073000000000000],[7887.550000000000000000,0.100000000000000000],[7887.750000000000000000,0.051020000000000000],[7888.710000000000000000,0.410000000000000000],[7888.800000000000000000,3.490000000000000000],[7889.960000000000000000,0.450000000000000000],[7889.970000000000000000,0.011658000000000000],[7890.600000000000000000,0.066765000000000000],[7890.700000000000000000,0.250000000000000000],[7890.890000000000000000,0.012690000000000000],[7891.150000000000000000,0.720000000000000000],[7891.860000000000000000,0.385200000000000000],[7892.000000000000000000,0.000656000000000000],[7892.490000000000000000,0.400021000000000000],[7892.760000000000000000,0.091391844069755067],[7892.850000000000000000,0.051020000000000000],[7893.200000000000000000,0.250000000000000000],[7894.620000000000000000,0.420000000000000000],[7894.680000000000000000,0.420000000000000000],[7894.730000000000000000,0.100000000000000000],[7894.850000000000000000,0.013981000000000000],[7895.310000000000000000,0.004950000000000000],[7895.590000000000000000,2.698533000000000000],[7895.610000000000000000,0.190579000000000000],[7896.200000000000000000,0.250000000000000000],[7896.670000000000000000,1.500000000000000000],[7896.680000000000000000,0.100000000000000000],[7897.240000000000000000,0.004648000000000000],[7897.660000000000000000,0.001100000000000000],[7897.950000000000000000,0.051020000000000000]],"ts":1583825506010,"version":105089311969}}'
#
# 盘口数据
# 返回当前盘口切片。观察交易页面。
# 一般在高频交易的时候才需要用到盘口数据。
# 一般盘口数据需要使用websocket接口获取。


# =====其他注意点
# 所有返回的时间都是格林威治时间，非北京时间，有八个小时的时差。

